import{ah as V,s as u,f as P,g as $,u as q,o as C,y as w,r as f,a as T,c as N,b as e,x as v,t as d,d as l,e as R,w as A,l as c,aa as _,J as B,a2 as F}from"./index-e698aeb1.js";const I={class:"auth"},O={class:"auth-conent"},S={class:"auth-conent-tabs-title"},D={class:"auth-conent-tabs-items"},E={class:"auth-conent-tabs-items-link active"},U={class:"auth-conent-tabs-items-link-icon"},x={class:"auth-conent-form-title"},z={class:"wameed-form-grid"},Q={__name:"PasswordReset",setup(J){const h=V(),i=u(!1),r=u(!1),m=u(!0),p=P(),o=$();q();const s=u({id_value:null,id_type:"email",token:null,otp:null,new_password:null,confirm_password:null}),b=()=>{h.changeForgetPassword(s.value).then(n=>{p.push({name:"login",params:{lang:w.global.locale.value}})})};return C(()=>{o.params.token&&(s.value.token=o.params.token),o.query.email&&(s.value.id_value=o.query.email),o.query.otp&&(s.value.otp=o.query.otp),(!o.query.email||!o.params)&&p.push({name:"forgot-password",params:{lang:w.global.locale.value}})}),(n,a)=>{const y=f("login-email-icon"),g=f("check-icon");return T(),N("main",I,[e("div",O,[e("div",{class:v(["auth-conent-tabs",m.value?"hide-tabs":""])},[e("h1",S,d(n.$t("login.login method")),1),e("ul",D,[e("li",E,[e("span",U,[l(y)]),R(" "+d(n.$t("login.E-mail"))+" ",1),l(g,{class:"auth-conent-tabs-items-link-check"})])])],2),e("div",{class:v(["auth-conent-form",m.value?"show-form":""])},[e("h1",x,d(n.$t("common.New Password")),1),l(c(F),{class:"wameed-form",onOnClick:b},{default:A(({invalid:k})=>[e("div",z,[e("div",null,[l(c(_),{modelValue:s.value.new_password,"onUpdate:modelValue":a[0]||(a[0]=t=>s.value.new_password=t),id:"new_password",label:n.$t("forms.Password"),name:"new_password",type:i.value?"text":"password",isAppend:"",icon:i.value?"eyeoff-icon":"eyeon-icon","prepen-icon":"password-lock-icon",labelType:"floating",onOnPostIconClick:a[1]||(a[1]=t=>i.value=!i.value),placeholder:"",rules:"required|password"},null,8,["modelValue","label","type","icon"])]),e("div",null,[l(c(_),{modelValue:s.value.confirm_password,"onUpdate:modelValue":a[2]||(a[2]=t=>s.value.confirm_password=t),id:"confirm_password",label:n.$t("forms.confirm password"),name:"confirm_password",type:r.value?"text":"password",isAppend:"",icon:r.value?"eyeoff-icon":"eyeon-icon","prepen-icon":"password-lock-icon",labelType:"floating",onOnPostIconClick:a[3]||(a[3]=t=>r.value=!r.value),placeholder:"",rules:"required|confirmPassword:@new_password"},null,8,["modelValue","label","type","icon"])])]),l(c(B),{classes:"wameed-form-submit",title:n.$t("common.save"),disabled:k,type:"submit"},null,8,["title","disabled"])]),_:1})],2)])])}}};export{Q as default};
