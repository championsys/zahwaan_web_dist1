import{ah as ve,a9 as fe,q as _e,p as pe,u as ye,s as _,a8 as Z,X as he,a5 as ge,o as be,r as y,a as c,c as m,b as e,t as r,l as d,F as P,j as W,n as N,d as a,w as u,e as G,J as f,a2 as T,aa as C,x,k as L,v as ee}from"./index-43934fea.js";import{u as ke,W as $e}from"./WameedGoogleMap-bce5de8a.js";const Ce={class:"profile-conent-pages-card"},Ve={class:"profile-conent-pages-card-title"},Ae={class:"addresses-list"},we=["onClick"],De={class:"address-card-icon"},Ue={class:"address-card-body"},Se={class:"address-card-body-title"},Oe={key:0,class:"is-default"},Ie={class:"address-card-body-text"},ze={class:"address-card-footer"},Me={class:"addresses-list-footer"},Te={class:"d-flex justify-content-between align-items-center header-mb-16"},je={class:"wameed-first-league-modal-title"},Fe={class:"wameed-form-grid",style:{"grid-template-columns":"auto"}},Be={class:"addresses-list"},qe={class:"address-card-icon"},Ne={class:"address-card-body"},Le={class:"address-card-body-title"},Re={class:"address-card-body-text"},Ye={class:"address-card-footer"},Ee={class:"address-card-icon"},Pe={class:"address-card-body"},We={class:"address-card-body-title"},Ge={class:"address-card-body-text"},Je={class:"address-card-footer"},Qe={class:"address-card-icon"},Xe={class:"address-card-body"},He={class:"address-card-body-title"},Ke={class:"address-card-body-text"},Ze={class:"address-card-footer"},xe={class:"d-flex justify-content-between align-items-start header-mb-16"},es={class:"wameed-first-league-modal-title"},ss={class:"d-flex align-items-center"},ls={class:"wameed-form-grid",style:{"grid-template-columns":"auto"}},ts={class:"addresses-list"},as={class:"address-card-icon"},ds={class:"address-card-body"},os={class:"address-card-body-title"},ns={class:"address-card-body-text"},is={class:"address-card-footer"},rs={class:"address-card-icon"},cs={class:"address-card-body"},us={class:"address-card-body-title"},ms={class:"address-card-body-text"},vs={class:"address-card-footer"},fs={class:"address-card-icon"},_s={class:"address-card-body"},ps={class:"address-card-body-title"},ys={class:"address-card-body-text"},hs={class:"address-card-footer"},gs={class:"d-flex justify-content-between align-items-center header-mb-16"},bs={class:"wameed-first-league-modal-title"},ks={class:"wameed-form-grid",style:{"grid-template-columns":"auto"}},$s={class:"input-list"},Cs={key:0,class:"input-list-ul"},Vs=["onClick"],As={key:0,class:"item-append-icon"},ws=["src","alt"],Ds={key:1,class:"item-append-icon"},Us={key:1,class:"search-no-data",style:{border:"none",margin:"0"}},Ss={class:"search-no-data-content"},Os={class:"search-no-data-content-title"},Is={class:"search-no-data-content-subtitle"},zs={class:"d-flex justify-content-between align-items-center header-mb-16"},Ms={class:"wameed-first-league-modal-title"},Ts={class:"wameed-form-grid",style:{"grid-template-columns":"auto"}},js={class:"input-list"},Fs={key:0,class:"input-list-ul"},Bs=["onClick"],qs={class:"item-append-icon"},Ns={key:1,class:"search-no-data",style:{border:"none",margin:"0"}},Ls={class:"search-no-data-content"},Rs={class:"search-no-data-content-title"},Ys={class:"search-no-data-content-subtitle"},Es={class:"d-flex justify-content-between align-items-center header-mb-16"},Ps={class:"wameed-first-league-modal-title"},Ws={class:"wameed-form-grid",style:{"grid-template-columns":"auto"}},Gs={class:"address-google-map"},Js={class:"action-modal-body"},Qs={class:"action-modal-body-title"},Xs={class:"action-modal-body-subtitle"},Hs={class:"action-modal-footer"},el={__name:"Addresses",setup(Ks){const se="https://testapp.burjalmaha.com",i=ke();ve();const g=fe(),v=_e(),J=pe();ye();const V=_(null),w=_(null),S=_(!1),D=_(!1),b=_(!1),k=_(!1),$=_(!1),O=_(!1),R=_([]),j=_(""),Y=_({lat:24.7135517,lng:46.6752957}),F=_({lat:null,lng:null}),t=_({id:null,address_1:null,address_2:null,address_name:null,country:null,city:null,lat:null,long:null,zip_code:null,is_default:!1});Z(g);const{getInit:p}=Z(v);he(()=>[p,g.getUserInfo],()=>{if(p&&(R.value=p.value.countries,g.getUserInfo&&g.getUserInfo.country)){let l=R.value.filter(s=>s.id==g.getUserInfo.country)[0];setTimeout(()=>{E(l)},500)}g.getUserInfo&&(t.value.country=g.getUserInfo.country,t.value.city=g.getUserInfo.city)},{immediate:!0,deep:!0});const E=l=>{l?(t.value.country=l.id,v.loadCities(l.code).then(()=>{if(v.getCities&&i.getAddressDetails&&i.getAddressDetails.ctiy){var s=v.getCities.filter(h=>h.id==i.getAddressDetails.ctiy)[0];s&&(w.value=s)}})):V.value&&(t.value.country=V.value.id,v.loadCities(V.value.code).then(()=>{if(v.getCities&&i.getAddressDetails&&i.getAddressDetails.ctiy){var s=v.getCities.filter(h=>h.id==i.getAddressDetails.ctiy)[0];s&&(w.value=s)}}),b.value=!1)},le=()=>{t.value.city=w.value.id,$.value=!1},te=l=>l.split(" ").join(""),ae=l=>{typeof l=="string"?j.value=l:j.value=""},B=ge(()=>R.value.filter(l=>l.name.toLowerCase().includes(j.value))),de=()=>{i.addAddress(t.value).then(()=>{i.loadAddresses(),S.value=!1,I()})},oe=()=>{i.editAddress(t.value).then(()=>{i.loadAddresses(),D.value=!1,I()})},ne=()=>{i.deleteAddress(t.value.id).then(()=>{i.loadAddresses(),O.value=!1,D.value=!1,I()})},I=()=>{t.value.id=null,t.value.address_1=null,t.value.address_2=null,t.value.address_name=null,t.value.country=null,t.value.city=null,t.value.lat=null,t.value.long=null,t.value.zip_code=null,t.value.is_default=!1},ie=l=>{i.loadAddressDetails(l).then(()=>{if(D.value=!0,t.value.id=l,t.value.address_1=i.getAddressDetails.address_1,t.value.address_2=i.getAddressDetails.address_2,t.value.address_name=i.getAddressDetails.address_name,i.getAddressDetails.country){var s=B.value.filter(h=>h.id==i.getAddressDetails.country)[0];s&&(V.value=s,E(s))}t.value.country=i.getAddressDetails.country,t.value.city=i.getAddressDetails.ctiy,t.value.lat=i.getAddressDetails.lat,t.value.long=i.getAddressDetails.lng,Y.value.lat=i.getAddressDetails.lat??null,Y.value.lng=i.getAddressDetails.lng??null,t.value.zip_code=i.getAddressDetails.zip_code,t.value.is_default=i.getAddressDetails.is_default})},re=l=>{F.value.lat=l.lat,F.value.lng=l.lng},ce=()=>{t.value.lat=F.value.lat,t.value.long=F.value.lng,k.value=!1};return be(()=>{i.loadAddresses()}),(l,s)=>{const h=y("location-2-icon"),A=y("arrow-left-icon"),Q=y("map-line-icon"),X=y("lang-icon"),z=y("b-card-body"),M=y("b-card-footer"),U=y("b-modal"),H=y("check-icon"),K=y("no-data-icon"),ue=y("trash2-icon");return c(),m("div",Ce,[e("h1",Ve,r(l.$t("common.addresses")),1),e("div",Ae,[d(i).getAddresses&&d(i).getAddresses.length?(c(!0),m(P,{key:0},W(d(i).getAddresses,(n,o)=>(c(),m("div",{class:"address-card",key:o,onClick:q=>ie(n.id)},[e("div",De,[a(h)]),e("div",Ue,[e("h1",Se,[G(r(n.address_title)+" ",1),n.is_default?(c(),m("span",Oe,r(l.$t("common.Default")),1)):N("",!0)]),e("p",Ie,r(n.address_line1),1)]),e("div",ze,[a(A)])],8,we))),128)):N("",!0),e("div",Me,[a(d(f),{onClick:s[0]||(s[0]=n=>S.value=!0),classes:"order-details-footer-mainbtn",title:l.$t("common.Add a new address")},null,8,["title"])]),a(U,{class:"wameed-first-league-modal",modelValue:S.value,"onUpdate:modelValue":s[9]||(s[9]=n=>S.value=n),"hide-footer":"","hide-header":"",centered:""},{default:u(()=>[(c(),m("div",{key:l.key,class:"align-items-center w-100"},[e("div",Te,[e("h4",je,r(l.$t("common.Add a new address")),1),a(d(f),{title:l.$t("common.Set as default"),onOnClick:s[1]||(s[1]=n=>t.value.is_default=!t.value.is_default),appendIcon:t.value.is_default?"check-icon":"",classes:t.value.is_default?"card-footer-subbtn is_default":"card-footer-subbtn"},null,8,["title","appendIcon","classes"])]),a(z,null,{default:u(()=>[a(d(T),{class:"wameed-form"},{default:u(({invalid:n})=>[e("div",Fe,[e("div",null,[a(d(C),{modelValue:t.value.address_name,"onUpdate:modelValue":s[2]||(s[2]=o=>t.value.address_name=o),id:"location_name",label:l.$t("forms.location_name"),name:"location_name","prepen-icon":"location-3-icon",labelType:"floating",placeholder:"",type:"text",rules:"required"},null,8,["modelValue","label"])]),e("div",null,[a(d(C),{modelValue:t.value.address_1,"onUpdate:modelValue":s[3]||(s[3]=o=>t.value.address_1=o),id:"address_1",label:l.$t("common.Details 1")+" 1 ",name:"address_1","prepen-icon":"document-icon",labelType:"floating",placeholder:"",type:"text",rules:"required"},null,8,["modelValue","label"])]),e("div",null,[a(d(C),{modelValue:t.value.address_2,"onUpdate:modelValue":s[4]||(s[4]=o=>t.value.address_2=o),id:"address_2",label:l.$t("common.Details 2")+" 2 ",name:"address_2","prepen-icon":"document-icon",labelType:"floating",placeholder:"",type:"text"},null,8,["modelValue","label"])]),e("div",Be,[e("div",{class:"address-card",onClick:s[5]||(s[5]=o=>k.value=!k.value)},[e("div",qe,[a(Q)]),e("div",Ne,[e("h1",Le,r(l.$t("common.Select location")),1),e("p",Re,r(l.$t("common.You can add the location on the map")),1)]),e("div",Ye,[a(A)])]),e("div",{class:"address-card",onClick:s[6]||(s[6]=o=>b.value=!b.value)},[e("div",Ee,[a(X)]),e("div",Pe,[e("h1",We,r(l.$t("common.country")),1),e("p",Ge,r(d(p)&&d(p).countries&&d(p).countries.filter(o=>t.value.country==o.id)[0]?d(p).countries.filter(o=>t.value.country==o.id)[0].name:"-------"),1)]),e("div",Je,[a(A)])]),e("div",{class:"address-card",onClick:s[7]||(s[7]=o=>$.value=!$.value)},[e("div",Qe,[a(h)]),e("div",Xe,[e("h1",He,r(l.$t("common.City")),1),e("p",Ke,r(d(v).getCities&&d(v).getCities.filter(o=>t.value.city==o.id)[0]?d(v).getCities.filter(o=>t.value.city==o.id)[0].name:"-------"),1)]),e("div",Ze,[a(A)])])])])]),_:1})]),_:1}),a(M,null,{default:u(()=>[a(d(f),{title:l.$t("common.add"),classes:(d(J).getloading,"card-footer-mainbtn"),onOnClick:de,disabled:!t.value.address_name||!t.value.address_1||!t.value.country||!t.value.city},null,8,["title","classes","disabled"]),a(d(f),{onOnClick:s[8]||(s[8]=n=>(S.value=!1,I())),title:l.$t("common.cancel"),classes:"card-footer-subbtn"},null,8,["title"])]),_:1})]))]),_:1},8,["modelValue"]),a(U,{class:"wameed-first-league-modal",modelValue:D.value,"onUpdate:modelValue":s[19]||(s[19]=n=>D.value=n),"hide-footer":"","hide-header":"",centered:""},{default:u(()=>[(c(),m("div",{key:l.key,class:"align-items-center w-100"},[e("div",xe,[e("h4",es,r(l.$t("common.Edit address")),1),e("div",ss,[a(d(f),{title:l.$t("common.Set as default"),onOnClick:s[10]||(s[10]=n=>t.value.is_default=!t.value.is_default),appendIcon:t.value.is_default?"check-icon":"",classes:t.value.is_default?"card-footer-subbtn mx-3 is_default":"card-footer-subbtn mx-3 "},null,8,["title","appendIcon","classes"]),a(d(f),{classes:"order-details-footer-cancelbtn mb-0",title:l.$t("common.Delete"),onOnClick:s[11]||(s[11]=n=>O.value=!0)},null,8,["title"])])]),a(z,null,{default:u(()=>[a(d(T),{class:"wameed-form"},{default:u(({invalid:n})=>[e("div",ls,[e("div",null,[a(d(C),{modelValue:t.value.address_name,"onUpdate:modelValue":s[12]||(s[12]=o=>t.value.address_name=o),id:"location_name",label:l.$t("forms.location_name"),name:"location_name","prepen-icon":"location-3-icon",labelType:"floating",placeholder:"",type:"text",rules:"required"},null,8,["modelValue","label"])]),e("div",null,[a(d(C),{modelValue:t.value.address_1,"onUpdate:modelValue":s[13]||(s[13]=o=>t.value.address_1=o),id:"address_1",label:l.$t("common.Details 1")+" 1 ",name:"address_1","prepen-icon":"document-icon",labelType:"floating",placeholder:"",type:"text",rules:"required"},null,8,["modelValue","label"])]),e("div",null,[a(d(C),{modelValue:t.value.address_2,"onUpdate:modelValue":s[14]||(s[14]=o=>t.value.address_2=o),id:"address_2",label:l.$t("common.Details 2")+" 2 ",name:"address_2","prepen-icon":"document-icon",labelType:"floating",placeholder:"",type:"text"},null,8,["modelValue","label"])]),e("div",ts,[e("div",{class:"address-card",onClick:s[15]||(s[15]=o=>k.value=!k.value)},[e("div",as,[a(Q)]),e("div",ds,[e("h1",os,r(l.$t("common.Select location")),1),e("p",ns,r(l.$t("common.You can add the location on the map")),1)]),e("div",is,[a(A)])]),e("div",{class:"address-card",onClick:s[16]||(s[16]=o=>b.value=!b.value)},[e("div",rs,[a(X)]),e("div",cs,[e("h1",us,r(l.$t("common.country")),1),e("p",ms,r(d(p)&&d(p).countries&&d(p).countries.filter(o=>t.value.country==o.id)[0]?d(p).countries.filter(o=>t.value.country==o.id)[0].name:"-------"),1)]),e("div",vs,[a(A)])]),e("div",{class:"address-card",onClick:s[17]||(s[17]=o=>$.value=!$.value)},[e("div",fs,[a(h)]),e("div",_s,[e("h1",ps,r(l.$t("common.City")),1),e("p",ys,r(d(v).getCities&&d(v).getCities.filter(o=>t.value.city==o.id)[0]?d(v).getCities.filter(o=>t.value.city==o.id)[0].name:"-------"),1)]),e("div",hs,[a(A)])])])])]),_:1})]),_:1}),a(M,null,{default:u(()=>[a(d(f),{title:l.$t("common.edit"),classes:(d(J).getloading,"card-footer-mainbtn"),onOnClick:oe,disabled:!t.value.address_name||!t.value.address_1||!t.value.country||!t.value.city},null,8,["title","classes","disabled"]),a(d(f),{onOnClick:s[18]||(s[18]=n=>(D.value=!1,I())),title:l.$t("common.cancel"),classes:"card-footer-subbtn"},null,8,["title"])]),_:1})]))]),_:1},8,["modelValue"]),a(U,{class:"wameed-first-league-modal",modelValue:b.value,"onUpdate:modelValue":s[21]||(s[21]=n=>b.value=n),"hide-footer":"","hide-header":"",centered:""},{default:u(()=>[(c(),m("div",{key:l.key,class:"align-items-center w-100"},[e("div",gs,[e("h4",bs,r(l.$t("common.country")),1)]),a(z,null,{default:u(()=>[a(d(T),{class:"wameed-form"},{default:u(({invalid:n})=>[e("div",ks,[e("div",null,[a(d(C),{modelValue:j.value,id:"searchCountry",name:"searchCountry","prepen-icon":"search-2-icon",labelType:"floating",placeholder:l.$t("common.search")+"...","onUpdate:modelValue":ae},null,8,["modelValue","placeholder"])]),e("div",null,[e("div",$s,[B.value&&B.value.length>0?(c(),m("ul",Cs,[(c(!0),m(P,null,W(B.value,(o,q)=>(c(),m("li",{key:q,class:x(["input-list-ul-item",V.value==o?"active":""]),onClick:me=>V.value=o},[o.flag?(c(),m("label",As,[e("img",{src:d(se)+te(o.flag),alt:o.name},null,8,ws)])):(c(),m("label",Ds,[(c(),L(ee("lang-icon")))])),G(" "+r(o.name)+" ",1),V.value==o?(c(),L(H,{key:2,class:"auth-conent-tabs-items-link-check"})):N("",!0)],10,Vs))),128))])):(c(),m("div",Us,[e("div",Ss,[a(K,{class:"search-no-data-content-icon"}),e("h1",Os,r(l.$t("common.Sorry, there is no country with this name")),1),e("p",Is,r(l.$t("common.Please make sure you write the country name correctly")),1)])]))])])])]),_:1})]),_:1}),a(M,null,{default:u(()=>[a(d(f),{title:l.$t("common.save"),classes:"card-footer-mainbtn",onOnClick:E},null,8,["title"]),a(d(f),{onOnClick:s[20]||(s[20]=n=>b.value=!1),title:l.$t("common.cancel"),classes:"card-footer-subbtn"},null,8,["title"])]),_:1})]))]),_:1},8,["modelValue"]),a(U,{class:"wameed-first-league-modal",modelValue:$.value,"onUpdate:modelValue":s[24]||(s[24]=n=>$.value=n),"hide-footer":"","hide-header":"",centered:""},{default:u(()=>[(c(),m("div",{key:l.key,class:"align-items-center w-100"},[e("div",zs,[e("h4",Ms,r(l.$t("common.City")),1)]),a(z,null,{default:u(()=>[a(d(T),{class:"wameed-form"},{default:u(({invalid:n})=>[e("div",Ts,[e("div",null,[a(d(C),{modelValue:t.value.zip_code,"onUpdate:modelValue":s[22]||(s[22]=o=>t.value.zip_code=o),id:"zip_code",label:l.$t("forms.zip_code"),name:"zip_code","prepen-icon":"zip-code-icon",labelType:"floating",placeholder:""},null,8,["modelValue","label"])]),e("div",null,[e("div",js,[d(v).getCities&&d(v).getCities.length>0?(c(),m("ul",Fs,[(c(!0),m(P,null,W(d(v).getCities,(o,q)=>(c(),m("li",{key:q,class:x(["input-list-ul-item",w.value==o?"active":""]),onClick:me=>w.value=o},[e("label",qs,[(c(),L(ee("location-icon")))]),G(" "+r(o.name)+" ",1),w.value==o?(c(),L(H,{key:0,class:"auth-conent-tabs-items-link-check"})):N("",!0)],10,Bs))),128))])):(c(),m("div",Ns,[e("div",Ls,[a(K,{class:"search-no-data-content-icon"}),e("h1",Rs,r(l.$t("common.Sorry, there are no cities currently available")),1),e("p",Ys,r(l.$t("common.No cities have been added at this time")),1)])]))])])])]),_:1})]),_:1}),a(M,null,{default:u(()=>[a(d(f),{title:l.$t("common.save"),classes:"card-footer-mainbtn",onOnClick:le},null,8,["title"]),a(d(f),{onOnClick:s[23]||(s[23]=n=>$.value=!1),title:l.$t("common.cancel"),classes:"card-footer-subbtn"},null,8,["title"])]),_:1})]))]),_:1},8,["modelValue"]),a(U,{class:"wameed-first-league-modal",modelValue:k.value,"onUpdate:modelValue":s[26]||(s[26]=n=>k.value=n),"hide-footer":"","hide-header":"",centered:""},{default:u(()=>[(c(),m("div",{key:l.key,class:"align-items-center w-100"},[e("div",Es,[e("h4",Ps,r(l.$t("common.Select location")),1)]),a(z,null,{default:u(()=>[a(d(T),{class:"wameed-form"},{default:u(({invalid:n})=>[e("div",Ws,[e("div",Gs,[a($e,{zoom:13,width:"100%",height:"100%",draggable:!0,clickable:!0,centerMarker:Y.value,onSetCenter:re},null,8,["centerMarker"])])])]),_:1})]),_:1}),a(M,null,{default:u(()=>[a(d(f),{title:l.$t("common.save"),classes:"card-footer-mainbtn",onOnClick:ce},null,8,["title"]),a(d(f),{onOnClick:s[25]||(s[25]=n=>k.value=!1),title:l.$t("common.cancel"),classes:"card-footer-subbtn"},null,8,["title"])]),_:1})]))]),_:1},8,["modelValue"]),a(U,{class:"wameed-first-league-modal action-modal",modelValue:O.value,"onUpdate:modelValue":s[28]||(s[28]=n=>O.value=n),"hide-footer":"","hide-header":"",centered:""},{default:u(()=>[e("div",Js,[a(ue,{class:"action-modal-body-icon"}),e("h4",Qs,r(l.$t("common.Delete title")),1),e("p",Xs,r(l.$t("common.Do you really want to delete the address? You will lose all data for this address")),1)]),e("div",Hs,[a(d(f),{title:l.$t("common.Delete title"),classes:"action-modal-footer-mainbtn btn-error",onOnClick:ne},null,8,["title"]),a(d(f),{onOnClick:s[27]||(s[27]=n=>O.value=!1),title:l.$t("common.cancel"),classes:"action-modal-footer-subbtn"},null,8,["title"])])]),_:1},8,["modelValue"])])])}}};export{el as default};
