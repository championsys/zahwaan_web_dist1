import{W as E,f as F,g as M,ah as P,p as j,a9 as G,s as _,u as Q,o as W,r as c,a as r,c as Z,b as a,x as u,t as i,d as n,e as d,k as m,n as p,w as y,l as t,Z as S,y as D,ai as H,aa as h,J as k,a2 as K}from"./index-43934fea.js";const X={class:"auth"},Y={class:"auth-conent"},x={class:"auth-conent-tabs-title"},ee={class:"auth-conent-tabs-items"},oe={class:"auth-conent-tabs-items-link-icon"},ae={class:"auth-conent-tabs-items-link-icon"},le={class:"auth-conent-form-title"},ne={class:"wameed-form-grid"},te={class:"auth-conent-form-footer"},se={class:"create-account"},ie={class:"create-account-text"},re={class:"social-login"},ce=a("div",{class:"bg-line"},null,-1),ue={class:"social-text"},de={class:"auth-conent-form-footer-btns"},ge={__name:"Login",setup(me){const{proxy:C}=E(),w=F();M();const I=P(),B=j(),N=G(),g=_(!1),v=_(!1),T=_(null),{t:z}=Q(),o=_({id_type:"email",email:"",user_name:"",mobile_no:"",pwd:""}),U=()=>{var e="";localStorage.getItem("zahwaanVisitorDeviceID")?e=JSON.parse(localStorage.getItem("zahwaanVisitorDeviceID")):(e=S.methods.generateToken(20),localStorage.setItem("zahwaanVisitorDeviceID",JSON.stringify(e)));var l={id_type:o.value.id_type,id_value:o.value.id_type=="email"?o.value.email:o.value.id_type=="user_name"?o.value.user_name:o.value.mobile_no,pwd:o.value.pwd,device_id:e};I.signin(l).then(()=>{N.loadUserInfo().then(()=>{w.push({name:"home",params:{lang:D.global.locale.value}}).then(()=>{window.location.reload()})})})},L=()=>{var e="";localStorage.getItem("zahwaanVisitorDeviceID")?e=JSON.parse(localStorage.getItem("zahwaanVisitorDeviceID")):(e=S.methods.generateToken(20),localStorage.setItem("zahwaanVisitorDeviceID",JSON.stringify(e))),H().then(l=>{if(l.access_token){var f={code:l.access_token,state:"",provider:"google",device_id:e};I.signinBySocial(f).then(()=>{w.push({name:"home",params:{lang:D.global.locale.value}}).then(()=>{window.location.reload()})})}else C.$notificationMessage({title:z("error_messages.500"),type:"fail"})})},O=()=>{document.getElementById("appleid-signin").click()},J=e=>{console.log(e)},R=e=>{console.log(e)};return W(()=>{}),(e,l)=>{const f=c("login-email-icon"),V=c("check-icon"),q=c("login-user-icon"),$=c("RouterLink"),A=c("vue-apple-login");return r(),Z("main",X,[a("div",Y,[a("div",{class:u(["auth-conent-tabs",v.value?"hide-tabs":""])},[a("h1",x,i(e.$t("login.login method")),1),a("ul",ee,[a("li",{class:u(["auth-conent-tabs-items-link",o.value.id_type=="email"?"active":""]),onClick:l[0]||(l[0]=b=>{o.value.id_type="email",v.value=!0})},[a("span",oe,[n(f)]),d(" "+i(e.$t("login.E-mail"))+" ",1),o.value.id_type=="email"?(r(),m(V,{key:0,class:"auth-conent-tabs-items-link-check"})):p("",!0)],2),a("li",{class:u(["auth-conent-tabs-items-link",o.value.id_type=="user_name"?"active":""]),onClick:l[1]||(l[1]=b=>{o.value.id_type="user_name",v.value=!0})},[a("span",ae,[n(q)]),d(" "+i(e.$t("login.User name"))+" ",1),o.value.id_type=="user_name"?(r(),m(V,{key:0,class:"auth-conent-tabs-items-link-check"})):p("",!0)],2)])],2),a("div",{class:u(["auth-conent-form",v.value?"show-form":""])},[a("h1",le,i(e.$t("login.Login data")),1),n(t(K),{class:"wameed-form",onOnClick:U},{default:y(({invalid:b})=>[a("div",ne,[a("div",null,[o.value.id_type=="user_name"?(r(),m(t(h),{key:0,modelValue:o.value.user_name,"onUpdate:modelValue":l[2]||(l[2]=s=>o.value.user_name=s),id:"user_name",name:"user_name",label:e.$t("forms.User name"),"prepen-icon":"login-user-2-icon",rules:"required",labelType:"floating",placeholder:""},null,8,["modelValue","label"])):p("",!0),o.value.id_type=="email"?(r(),m(t(h),{key:1,modelValue:o.value.email,"onUpdate:modelValue":l[3]||(l[3]=s=>o.value.email=s),id:"email",name:"email",label:e.$t("forms.E-mail"),"prepen-icon":"login-email-2-icon",rules:"email|required",labelType:"floating",placeholder:""},null,8,["modelValue","label"])):p("",!0),o.value.id_type=="mobile_no"?(r(),m(t(h),{key:2,modelValue:o.value.mobile_no,"onUpdate:modelValue":l[4]||(l[4]=s=>o.value.mobile_no=s),id:"mobile_no",name:"mobile_no",label:e.$t("forms.Mobile number"),"prepen-icon":"login-phone-2-icon",rules:"required",labelType:"floating",placeholder:""},null,8,["modelValue","label"])):p("",!0)]),a("div",null,[n(t(h),{modelValue:o.value.pwd,"onUpdate:modelValue":l[5]||(l[5]=s=>o.value.pwd=s),id:"password",label:e.$t("forms.Password"),name:"password",type:g.value?"text":"password",isAppend:"",icon:g.value?"eyeoff-icon":"eyeon-icon","prepen-icon":"password-lock-icon",labelType:"floating",rules:"required",onOnPostIconClick:l[6]||(l[6]=s=>g.value=!g.value),placeholder:""},null,8,["modelValue","label","type","icon"])])]),a("div",{class:u(e.$i18n.locale=="ar"?"d-flex justify-content-end forgot-password":"d-flex justify-content-strat forgot-password")},[n($,{class:"forgot-password-link",to:{name:"forgot-password",params:{lang:e.$i18n.locale}}},{default:y(()=>[d(i(e.$t("login.forgot_password")),1)]),_:1},8,["to"])],2),n(t(k),{id:"login-btn",classes:(t(B).getloading,"wameed-form-submit"),title:e.$t("navbar.login"),disabled:b,type:"submit"},null,8,["classes","title","disabled"])]),_:1}),a("div",te,[a("div",se,[a("div",ie,[d(i(e.$t("common.I dont have an account!!"))+" ",1),n($,{class:"",to:{name:"sign-up",params:{lang:e.$i18n.locale}}},{default:y(()=>[d(i(e.$t("common.Create a new account")),1)]),_:1},8,["to"])])]),a("div",re,[ce,a("div",ue,i(e.$t("common.or")),1)]),a("div",de,[n(t(k),{title:e.$t("login.google_account"),appendIcon:"google-icon",onClick:L},null,8,["title"]),n(t(k),{title:e.$t("login.apple_account"),appendIcon:"apple-icon",onClick:O},null,8,["title"]),n(A,{class:"d-none",ref_key:"appleLoginBtn",ref:T,color:"black",border:!0,type:"sign in",width:"200",height:"36",onSuccess:J,onFailure:R},null,512)])])],2)])])}}};export{ge as default};
