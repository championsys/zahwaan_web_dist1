import{s as O,u as ee,f as ne,g as ue,h as te,a as d,c as r,b as e,C as I,e as N,t,n,F as b,j as g,i as V,l,a9 as me,o as _e,r as U,d as _,w,k as z,x as R,a1 as X,$ as Z,D as ve,E as he,J as P,z as pe}from"./index-43934fea.js";const ye={key:0,class:"order-card"},fe={class:"order-card-header"},be={key:0,style:"color: #F7B900"},ge={class:"order-card-header-data"},$e={class:"order-card-header-data-products"},ke=["alt"],Oe={class:"order-card-header-data-products-text"},Ce={class:"order-card-header-data-price"},Ue={class:"order-card-footer"},Se={class:"order-card-footer-order-text",dir:"ltr"},De={class:"order-card-footer-order-text"},x={__name:"OrderCard",props:{data:{type:Object,default:null}},setup(f){const B="https://testapp.burjalmaha.com",u=O(JSON.parse(localStorage.getItem("currency")));ee(),ne(),ue();const v=O([{id:"Review",title:"order_status.Review",color:"#4A5567"},{id:"Processing",title:"order_status.Processing",color:"#1559C6"},{id:"Shipping",title:"order_status.Shipping",color:"#F7B900"},{id:"Delivered",title:"order_status.Delivered",color:"#18871A"},{id:"Canceled",title:"order_status.Canceled",color:"#B22B13"},{id:"Cancelled",title:"order_status.Canceled",color:"#B22B13"}]),S=(y,o)=>{var i=v.value.filter(D=>D.id==y)[0];if(i){if(o=="title")return i.title;if(o=="color")return i.color}};return(y,o)=>{const i=te("lazy");return f.data?(d(),r("div",ye,[e("div",fe,[e("h1",{class:"order-card-header-title",style:I(`color: ${S(f.data.status,"color")}`)},[N(t(y.$t(S(f.data.status,"title")))+" ",1),f.data.is_return?(d(),r("span",be,"( "+t(y.$t("common.is_return"))+" )",1)):n("",!0)],4),e("div",ge,[e("div",$e,[(d(!0),r(b,null,g(f.data.products,(D,Y)=>(d(),r("span",{key:Y,style:I(`z-index:${f.data.products.length-D}`)},[V(e("img",{alt:D.name??D.item_group},null,8,ke),[[i,l(B)+D.thumbnail]])],4))),128)),e("p",Oe,t(f.data.products.length)+" "+t(y.$t("common.products-2")),1)]),e("h3",Ce,t(f.data.grand_total)+" "+t(u.value?u.value.symbol:""),1)])]),e("div",Ue,[e("h1",Se,"#"+t(f.data.id),1),e("h3",De,t(y.formatDate(f.data.date,"YYYY/MM/DD")),1)])])):n("",!0)}}},we={class:"profile-conent-pages-card orders"},Ie={class:"d-flex align-items-center justify-content-between"},Be={class:"profile-conent-pages-card-title"},Ye={key:0,class:"search-no-data",style:{border:"none"}},ze={class:"search-no-data-content"},Re={class:"search-no-data-content-title"},Pe={class:"search-no-data-content-subtitle"},Ve={key:0,class:"search-no-data",style:{border:"none"}},qe={class:"search-no-data-content"},je={class:"search-no-data-content-title"},Fe={class:"search-no-data-content-subtitle"},Me={key:0,class:"search-no-data",style:{border:"none"}},Ae={class:"search-no-data-content"},Ne={class:"search-no-data-content-title"},Le={class:"search-no-data-content-subtitle"},Je={key:0,class:"profile-conent-pages-card orders order-details-in-mobile"},Ee={class:"d-flex align-items-center justify-content-between"},Te={class:"profile-conent-pages-card-title"},Ge={class:"order-details-data"},He={class:"order-details-data-header"},Ke={class:"order-details-data-header-title"},Qe={class:"order-details-data-body"},We={class:"order-details-data-body-data"},Xe={class:"order-details-data-body-data-title"},Ze={class:"order-details-data-body-data-value",dir:"ltr"},xe={class:"order-details-data-body-data"},et={class:"order-details-data-body-data-title"},tt={class:"order-details-data-body-data-value",dir:"ltr"},st={class:"order-details-products"},at={class:"order-details-products-header"},ot={class:"order-details-products-header-title"},dt={class:"order-details-products-header-value"},rt={class:"order-details-products-card"},lt={class:"order-details-products-card-product-data"},it={class:"order-details-products-card-product-data-img"},ct=["alt"],nt={class:"order-details-products-card-product-data-body"},ut={key:0,class:"order-details-products-card-product-data-body-price"},mt={class:"order-details-products-card-product-data-body-title"},_t={class:"order-details-products-card-product-footer"},vt={class:"order-details-products-card-product-footer-attributes"},ht={class:"order-details-products-card-product-footer-attributes-item-title"},pt={key:1,class:"size"},yt={class:"order-details-products-card-product-footer-quantity"},ft={class:"order-details-delivery"},bt={class:"order-details-delivery-header"},gt={class:"order-details-delivery-header-title"},$t={class:"order-details-delivery-card"},kt={class:"order-details-delivery-card-data"},Ot={class:"order-details-delivery-card-data-item"},Ct={class:"order-details-delivery-card-data-item-label"},Ut={class:"order-details-delivery-card-data-item-value"},St={class:"order-details-delivery-card-footer"},Dt={class:"order-details-delivery-card-footer-icon"},wt=["alt"],It={class:"order-details-delivery-card-footer-item"},Bt={class:"order-details-delivery-card-footer-item-label"},Yt={class:"order-details-delivery-card-footer-item-value"},zt={class:"order-details-payment"},Rt={class:"order-details-payment-header"},Pt={class:"order-details-payment-header-title"},Vt={class:"order-details-payment-header-sub"},qt={class:"order-details-payment-header-sub-label"},jt={class:"order-details-payment-header-sub-value primary"},Ft={key:0},Mt={class:"order-details-payment-card"},At={class:"order-details-payment-card-data"},Nt={class:"order-details-payment-card-data-item"},Lt={class:"order-details-payment-card-data-item-label"},Jt={class:"order-details-payment-card-data-item-value primary"},Et={key:0,class:"order-details-payment-card-data-item"},Tt={class:"order-details-payment-card-data-item-label"},Gt={class:"order-details-payment-card-data-item-value"},Ht={key:1,class:"order-details-payment-card-data-item"},Kt={class:"order-details-payment-card-data-item-label"},Qt={class:"order-details-payment-card-data-item-value"},Wt={key:2,class:"order-details-payment-card-data-item"},Xt={class:"order-details-payment-card-data-item-label"},Zt={class:"order-details-payment-card-data-item-value"},xt={key:3,class:"order-details-payment-card-data-item"},es={class:"order-details-payment-card-data-item-label"},ts={class:"order-details-payment-card-data-item-value"},ss={class:"order-details-payment-card-data-item"},as={class:"order-details-payment-card-data-item-label"},os={class:"order-details-payment-card-data-item-value"},ds={class:"order-details-payment-card-footer"},rs={class:"order-details-payment-card-footer-icon"},ls=["alt"],is={class:"order-details-payment-card-footer-item"},cs={class:"order-details-payment-card-footer-item-label"},ns={class:"order-details-payment-card-footer-item-value"},us={class:"action-modal-body"},ms={class:"action-modal-body-title"},_s={class:"action-modal-body-subtitle"},vs={class:"action-modal-footer"},hs={key:0,class:"align-items-center w-100"},ps={class:"d-flex justify-content-between"},ys={class:"wameed-first-league-modal-title"},fs={class:"order-details-products retrieve"},bs={class:"order-details-products-card"},gs=["onClick"],$s={class:"order-details-products-card-product-data position-relative"},ks={class:"order-details-products-card-product-data-img"},Os=["alt"],Cs={class:"order-details-products-card-product-data-body"},Us={key:0,class:"order-details-products-card-product-data-body-price"},Ss={class:"order-details-products-card-product-data-body-title"},Ds={class:"order-details-products-card-product-footer"},ws={class:"order-details-products-card-product-footer-attributes"},Is={class:"order-details-products-card-product-footer-attributes-item-title"},Bs={key:1,class:"size"},Ys={class:"order-details-products-card-product-footer-quantity"},Rs={__name:"Orders",setup(f){const B="https://testapp.burjalmaha.com",u=O(JSON.parse(localStorage.getItem("currency")));ee();const v=O(!0),S=O(!1),y=O(!1),o=O(null),i=me(),D=O([{id:"Review",title:"order_status.Review",color:"#4A5567"},{id:"Processing",title:"order_status.Processing",color:"#1559C6"},{id:"Shipping",title:"order_status.Shipping",color:"#F7B900"},{id:"Delivered",title:"order_status.Delivered",color:"#18871A"},{id:"Canceled",title:"order_status.Canceled",color:"#B22B13"}]),Y=O({state:"current",page:1,page_length:20}),$=O({id:null,items:[]}),j=(a,c)=>{var h=D.value.filter(k=>k.id==a)[0];if(c=="title")return h.title;if(c=="color")return h.color},L=a=>{Y.value.state=a,F()},F=()=>{v.value=!0,i.loadUserOrders(Y.value).then(()=>{v.value=!1})},se=()=>{o.value=null,v.value=!0,i.loadUserOrdersItems(Y.value).then(()=>{v.value=!1})},M=a=>{o.value=a,$.value.id=a.id;for(let c=0;c<a.products.length;c++){const h=a.products[c];$.value.items.push({item_code:h.item_code,qty:h.qty,is_selected:!1})}},ae=()=>{const a={id:o.value.id};i.cancelOrder(a).then(()=>{S.value=!1,F()})},oe=()=>{var a=[];for(let h=0;h<$.value.items.filter(k=>k.is_selected==!0).length;h++){const k=$.value.items.filter(A=>A.is_selected==!0)[h];a.push({item_code:k.item_code,qty:k.qty})}const c={id:$.value.id,items:[a]};i.returnOrder(c).then(()=>{y.value=!1,v.value=!0,i.loadUserOrders(Y.value).then(()=>{v.value=!1,M(i.getUserOrders.filter(h=>h.id==o.value.id)[0])})})};return _e(()=>{F()}),(a,c)=>{var E,T,G,H,K,Q,W;const h=U("no-data-icon"),k=U("b-tab"),A=U("b-tabs"),de=U("back-icon"),re=U("cancel-icon"),J=U("b-modal"),le=U("check-icon"),ie=U("b-card-body"),ce=U("b-card-footer"),q=te("lazy");return d(),r("div",{class:"profile-conent-pages-orders",style:I(o.value?"":"grid-template-columns: auto")},[e("div",we,[e("div",Ie,[e("h1",Be,[N(t(a.$t("common.orders"))+" ",1),e("span",null,"( "+t(((E=l(i).getUserInfo)==null?void 0:E.total_orders)??0)+" "+t(a.$t("common.orders-2"))+" ØŒ "+t(((T=l(i).getUserInfo)==null?void 0:T.total_order_items)??0)+" "+t(a.$t("common.product"))+")",1)])]),_(A,{pills:""},{default:w(()=>[_(k,{active:"",onClick:c[0]||(c[0]=s=>L("current")),title:a.$t("common.current")},{default:w(()=>[!v.value&&l(i).getUserOrders&&l(i).getUserOrders.length<1?(d(),r("div",Ye,[e("div",ze,[_(h,{class:"search-no-data-content-icon"}),e("h1",Re,t(a.$t("common.Sorry, there are no items")),1),e("p",Pe,t(a.$t("common.You can shop")),1)])])):n("",!0),!v.value&&l(i).getUserOrders&&l(i).getUserOrders.length>0?(d(!0),r(b,{key:1},g(l(i).getUserOrders,(s,p)=>{var m;return d(),z(x,{key:p,data:s,class:R(((m=o.value)==null?void 0:m.id)==s.id?"active":""),onClick:C=>M(s)},null,8,["data","class","onClick"])}),128)):n("",!0),v.value?(d(),r(b,{key:2},g(5,(s,p)=>e("div",{class:"order-card",key:p},[_(l(X),{class:"p-5","is-loading":!0,lines:2,"random-size":!0}),_(l(Z),{"is-loading":!0})])),64)):n("",!0)]),_:1},8,["title"]),_(k,{onClick:c[1]||(c[1]=s=>L("ending")),title:a.$t("common.ending")},{default:w(()=>[!v.value&&l(i).getUserOrders&&l(i).getUserOrders.length<1?(d(),r("div",Ve,[e("div",qe,[_(h,{class:"search-no-data-content-icon"}),e("h1",je,t(a.$t("common.Sorry, there are no items")),1),e("p",Fe,t(a.$t("common.You can shop")),1)])])):n("",!0),!v.value&&l(i).getUserOrders&&l(i).getUserOrders.length>0?(d(!0),r(b,{key:1},g(l(i).getUserOrders,(s,p)=>{var m;return d(),z(x,{key:p,data:s,class:R(((m=o.value)==null?void 0:m.id)==s.id?"active":""),onClick:C=>M(s)},null,8,["data","class","onClick"])}),128)):n("",!0),v.value?(d(),r(b,{key:2},g(5,(s,p)=>e("div",{class:"order-card",key:p},[_(l(X),{class:"p-5","is-loading":!0,lines:2,"random-size":!0}),_(l(Z),{"is-loading":!0})])),64)):n("",!0)]),_:1},8,["title"]),_(k,{onClick:se,title:a.$t("common.products")},{default:w(()=>[!v.value&&!l(i).getUserOrdersItems||!v.value&&l(i).getUserOrdersItems.length<1?(d(),r("div",Me,[e("div",Ae,[_(h,{class:"search-no-data-content-icon"}),e("h1",Ne,t(a.$t("common.Sorry, there are no items")),1),e("p",Le,t(a.$t("common.You can shop")),1)])])):n("",!0),!v.value&&l(i).getUserOrdersItems&&l(i).getUserOrdersItems.length>0?(d(!0),r(b,{key:1},g(l(i).getUserOrdersItems,(s,p)=>(d(),z(ve,{key:p,id:s.id,name:s.name,price:s.price,oldPrice:s.old_price,discount:s.discount_percentage,image:s.images,rate:s.rating,itemCode:s.item_code,class:"grid-arrangement"},null,8,["id","name","price","oldPrice","discount","image","rate","itemCode"]))),128)):n("",!0),v.value?(d(),r(b,{key:2},g(5,(s,p)=>_(l(he),{"is-loading":!0,key:p,class:R("grid-arrangement")})),64)):n("",!0)]),_:1},8,["title"])]),_:1})]),o.value?(d(),r("div",Je,[e("div",{class:"back-btn",onClick:c[2]||(c[2]=s=>o.value=null)},[_(de)]),e("div",Ee,[e("h1",Te,t(a.$t("common.Order details")),1),o.value.status=="Review"?(d(),z(l(P),{key:0,classes:"order-details-footer-cancelbtn",title:a.$t("common.Cancel order"),onOnClick:c[3]||(c[3]=s=>S.value=!0)},null,8,["title"])):n("",!0),o.value.status=="Delivered"&&o.value.return_days>0?(d(),z(l(P),{key:1,classes:"order-details-footer-cancelbtn",title:a.$t("common.Retrieve the order"),onOnClick:c[4]||(c[4]=s=>y.value=!0)},null,8,["title"])):n("",!0)]),e("div",Ge,[e("div",He,[e("div",{class:"order-details-data-header-back",style:I(`background-color: ${j(o.value.status,"color")}`)},null,4),e("h1",Ke,t(a.$t("common.Order status")),1),e("h1",{class:"order-details-data-header-title",style:I(`color: ${j(o.value.status,"color")}`)},t(a.$t(j(o.value.status,"title"))),5)]),e("div",Qe,[e("div",We,[e("h1",Xe,t(a.$t("common.Order number")),1),e("p",Ze," #"+t(o.value.id),1)]),e("div",xe,[e("h1",et,t(a.$t("common.Order date")),1),e("p",tt,t(a.formatDate(o.value.date," YYYY/MM/DD - hh:mm A")),1)])])]),e("div",st,[e("div",at,[e("h1",ot,t(a.$t("common.Order data")),1),e("h1",dt,t(o.value.products.length)+" "+t(a.$t("common.products-2")),1)]),e("div",rt,[(d(!0),r(b,null,g(o.value.products,(s,p)=>(d(),r("div",{class:"order-details-products-card-product",key:p},[e("div",lt,[e("div",it,[V(e("img",{alt:s.name??s.item_group},null,8,ct),[[q,l(B)+s.thumbnail]])]),e("div",nt,[s.is_free_item?n("",!0):(d(),r("h1",ut,t(s.price)+" "+t(u.value?u.value.symbol:""),1)),s.is_free_item?(d(),r("h1",{key:1,class:R(["order-details-products-card-product-data-body-price",s.is_free_item?"free":""])},t(a.$t("common.is_free_item")),3)):n("",!0),e("h3",mt,t(s.name),1)])]),e("div",_t,[e("div",vt,[(d(!0),r(b,null,g(s.attributes,(m,C)=>(d(),r("div",{class:"order-details-products-card-product-footer-attributes-item",key:C},[e("p",ht,t(m.title),1),m.key=="Colour"?(d(),r("span",{key:0,class:"color",style:I(`background-color:${m.value}`)},null,4)):(d(),r("span",pt,t(m.value),1))]))),128))]),e("div",yt,[e("p",null,t(s.qty),1)])])]))),128))])]),e("div",ft,[e("div",bt,[e("h1",gt,t(a.$t("common.Delivery")),1)]),e("div",$t,[e("div",kt,[e("div",Ot,[e("h1",Ct,t(a.$t("common.Delivery location")),1),e("h3",Ut,t((G=o.value.address_id)==null?void 0:G.address_title),1)])]),e("div",St,[e("label",Dt,[V(e("img",{alt:(H=o.value.shipping_type)==null?void 0:H.name},null,8,wt),[[q,l(B)+((K=o.value.shipping_type)==null?void 0:K.image)]])]),e("div",It,[e("h1",Bt,t(a.$t("common.Shipping method")),1),e("h3",Yt,t(o.value&&o.value.shipping_type?o.value.shipping_type.name:"---------"),1)])])])]),e("div",zt,[e("div",Rt,[e("h1",Pt,t(a.$t("common.Payment details")),1),e("div",Vt,[e("h1",qt,t(a.$t("common.Total")),1),e("h3",jt,[N(t(o.value.grand_total)+" "+t(u.value?u.value.symbol:"")+" ",1),o.value.old_total&&o.value.old_total>o.value.grand_total?(d(),r("span",Ft,t(o.value.old_total)+" "+t(u.value?u.value.symbol:""),1)):n("",!0)])])]),e("div",Mt,[e("div",At,[e("div",Nt,[e("h1",Lt,t(a.$t("common.Price of products")),1),e("h3",Jt,t(o.value.total)+" "+t(u.value?u.value.symbol:""),1)]),o.value.coupon_discount>0?(d(),r("div",Et,[e("h1",Tt,t(a.$t("common.Coupon discount")),1),e("h3",Gt,t(o.value.coupon_discount)+" "+t(u.value?u.value.symbol:""),1)])):n("",!0),o.value.offer_discount>0?(d(),r("div",Ht,[e("h1",Kt,t(a.$t("common.Offer discount")),1),e("h3",Qt,t(o.value.offer_discount)+" "+t(u.value?u.value.symbol:""),1)])):n("",!0),o.value.tax>0?(d(),r("div",Wt,[e("h1",Xt,t(a.$t("common.tax")),1),e("h3",Zt,t(o.value.tax)+" "+t(u.value?u.value.symbol:""),1)])):n("",!0),o.value.loyalty_points_amount>0?(d(),r("div",xt,[e("h1",es,t(a.$t("common.loyalty_points_amount")),1),e("h3",ts,t(o.value.loyalty_points_amount)+" "+t(u.value?u.value.symbol:""),1)])):n("",!0),e("div",ss,[e("h1",as,t(a.$t("common.Delivery Service")),1),e("h3",os,t(o.value.delivery_fee)+" "+t(u.value?u.value.symbol:""),1)])]),e("div",ds,[e("label",rs,[V(e("img",{alt:(Q=o.value.payment_type)==null?void 0:Q.name},null,8,ls),[[q,l(B)+((W=o.value.payment_type)==null?void 0:W.image)]])]),e("div",is,[e("h1",cs,t(a.$t("common.Payment method")),1),e("h3",ns,t(o.value&&o.value.payment_type?o.value.payment_type.name:"---------"),1)])])])])])):n("",!0),_(J,{class:"wameed-first-league-modal action-modal",modelValue:S.value,"onUpdate:modelValue":c[6]||(c[6]=s=>S.value=s),"hide-footer":"","hide-header":"",centered:""},{default:w(()=>[e("div",us,[_(re,{class:"action-modal-body-icon"}),e("h4",ms,t(a.$t("common.Cancel order")),1),e("p",_s,t(a.$t("common.Are you sure about the order cancellation process? You will have to order again")),1)]),e("div",vs,[_(l(P),{onOnClick:ae,title:a.$t("common.Cancel order"),classes:"action-modal-footer-mainbtn btn-error"},null,8,["title"]),_(l(P),{onOnClick:c[5]||(c[5]=s=>S.value=!1),title:a.$t("common.cancel"),classes:"action-modal-footer-subbtn"},null,8,["title"])])]),_:1},8,["modelValue"]),_(J,{class:"wameed-first-league-modal",modelValue:y.value,"onUpdate:modelValue":c[8]||(c[8]=s=>y.value=s),"hide-footer":"","hide-header":"",centered:""},{default:w(()=>[o.value?(d(),r("div",hs,[e("div",ps,[e("h4",ys,t(a.$t("common.Select products")),1)]),_(ie,null,{default:w(()=>[e("div",fs,[e("div",bs,[(d(!0),r(b,null,g(o.value.products,(s,p)=>V((d(),r("div",{class:R(["order-details-products-card-product",[$.value.items.filter(m=>s.item_code==m.item_code&&m.is_selected==!0)[0]?"is_selected":"",s.return_days>0?"":"disable"]]),key:p,onClick:m=>{$.value.items.filter(C=>s.item_code==C.item_code)[0].is_selected=!$.value.items.filter(C=>s.item_code==C.item_code)[0].is_selected}},[e("div",$s,[e("div",ks,[V(e("img",{alt:s.name??s.item_group},null,8,Os),[[q,l(B)+s.thumbnail]])]),e("div",Cs,[s.is_free_item?n("",!0):(d(),r("h1",Us,t(s.price)+" "+t(u.value?u.value.symbol:""),1)),s.is_free_item?(d(),r("h1",{key:1,class:R(["order-details-products-card-product-data-body-price",s.is_free_item?"free":""])},t(a.$t("common.is_free_item")),3)):n("",!0),e("h3",Ss,t(s.name),1)]),$.value.items.filter(m=>s.item_code==m.item_code&&m.is_selected==!0)[0]?(d(),z(le,{key:0,class:"arrow-icon",style:{transform:"rotateY(0)"}})):n("",!0)]),e("div",Ds,[e("div",ws,[(d(!0),r(b,null,g(s.attributes,(m,C)=>(d(),r("div",{class:"order-details-products-card-product-footer-attributes-item",key:C},[e("p",Is,t(m.title),1),m.key=="Colour"?(d(),r("span",{key:0,class:"color",style:I(`background-color:${m.value}`)},null,4)):(d(),r("span",Bs,t(m.value),1))]))),128))]),e("div",Ys,[e("p",null,t(s.qty),1)])])],10,gs)),[[pe,!s.is_free_item]])),128))])])]),_:1}),_(ce,null,{default:w(()=>[_(l(P),{onOnClick:oe,title:a.$t("common.Retrieve the products"),classes:"card-footer-mainbtn",disabled:$.value.items.filter(s=>s.is_selected==!0).length<1},null,8,["title","disabled"]),_(l(P),{onOnClick:c[7]||(c[7]=s=>y.value=!1),title:a.$t("common.cancel"),classes:"card-footer-subbtn"},null,8,["title"])]),_:1})])):n("",!0)]),_:1},8,["modelValue"])],4)}}};export{Rs as default};
