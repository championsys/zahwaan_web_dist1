import{U as _,p as C,A as w,ao as M,r,a as o,c as u,b as v,d as i,w as g,k as h,n as p,F as A,j as F,C as D}from"./index-e698aeb1.js";_();const s=C(),O=w({id:"addresses",state:()=>({addresses:[],addressDetails:null}),getters:{getAddresses:e=>e.addresses,getAddressDetails:e=>e.addressDetails},actions:{async loadAddresses(e){await this.$http.get("/snd_ecommerce.address.get_addresses").then(t=>{t.status===200&&(this.addresses=t.data.data)}).catch(t=>{throw t})},async loadAddressDetails(e){await this.$http.get(`/snd_ecommerce.address.get_address?id=${e}`).then(t=>{t.status===200&&(this.addressDetails=t.data.data.content)}).catch(t=>{throw t})},async addAddress(e){return s.loadingStart(),await this.$http.post("/snd_ecommerce.address.create",e).then(t=>{if(s.loadingFinish(),t.status===200)return this.$notificationMessage({title:this.$t("success_messages.saved_successfully"),type:"success"}),!0}).catch(t=>{throw s.loadingFinish(),t})},async editAddress(e){return s.loadingStart(),await this.$http.post("/snd_ecommerce.address.update",e).then(t=>{if(s.loadingFinish(),t.status===200)return this.$notificationMessage({title:this.$t("success_messages.edit_successfully"),type:"success"}),!0}).catch(t=>{throw s.loadingFinish(),t})},async deleteAddress(e){return s.loadingStart(),await this.$http.get(`/snd_ecommerce.address.delete?id=${e}`).then(t=>{if(s.loadingFinish(),t.status===200)return this.$notificationMessage({title:this.$t("success_messages.delete_successfully"),type:"success"}),!0}).catch(t=>{throw s.loadingFinish(),t})}}}),S={props:{width:{type:String,default:null},height:{type:String,default:null},zoom:{type:Number,default:null},centerMarker:{type:Object,default:null},markers:{type:Array,default:()=>[]},customMarker:{type:Boolean,default:!1},customMarkerData:{type:Object,default:null},draggable:{type:Boolean,default:!1},clickable:{type:Boolean,default:!1}},data(){return{openedMarkerID:null,center:{lat:24.7135517,lng:46.6752957}}},computed:{},watch:{center(e){}},methods:{openMarker(e){this.openedMarkerID=e},updateCenter(e){e!=null&&(this.center={lat:parseFloat(e.latLng.lat()),lng:parseFloat(e.latLng.lng())}),this.setCenter()},resetMap(){this.geolocate()},geolocate:function(){this.center=null,navigator.geolocation.getCurrentPosition(e=>{var t=e.coords.latitude,a=e.coords.longitude;this.center={lat:parseFloat(t),lng:parseFloat(a)}}),this.setCenter()},initMarker(e){e&&e.geometry&&e.geometry.location&&(this.center={lat:e.geometry.location.lat(),lng:e.geometry.location.lng(),address:e.formatted_address},this.setCenter())},setCenter(){var e={lat:this.center.lat,lng:this.center.lng};this.$emit("setCenter",e)}},mounted(){this.center=this.centerMarker}},x={key:0,class:"w-100 h-100 position-relative"},z={class:"autocomplete-input"};function G(e,t,a,B,l,n){const m=r("GMapAutocomplete"),f=r("search-icon"),d=r("GMapMarker"),k=r("GMapCluster"),y=r("GMapMap");return l.center?(o(),u("div",x,[v("div",z,[i(m,{placeholder:e.$t("common.search")+"...",onPlace_changed:n.initMarker},null,8,["placeholder","onPlace_changed"]),i(f)]),i(y,{center:l.center,zoom:a.zoom,"map-type-id":"roadmap",style:D({width:`${a.width}`,height:`${a.height}`}),onClick:n.updateCenter,options:{zoomControl:!0,mapTypeControl:!1,scaleControl:!1,streetViewControl:!1,rotateControl:!1,fullscreenControl:!1,disableDefaultUi:!1}},{default:g(()=>[i(k,{zoomOnClick:!0,styles:[{textColor:"black",url:"https://raw.githubusercontent.com/googlemaps/v3-utility-library/37c2a570c318122df57b83140f5f54665b9359e5/packages/markerclustererplus/images/m1.png",height:52,width:53},{textColor:"black",url:"https://raw.githubusercontent.com/googlemaps/v3-utility-library/37c2a570c318122df57b83140f5f54665b9359e5/packages/markerclustererplus/images/m2.png",height:55,width:56},{textColor:"black",url:"https://raw.githubusercontent.com/googlemaps/v3-utility-library/37c2a570c318122df57b83140f5f54665b9359e5/packages/markerclustererplus/images/m3.png",height:65,width:66},{textColor:"black",url:"https://raw.githubusercontent.com/googlemaps/v3-utility-library/37c2a570c318122df57b83140f5f54665b9359e5/packages/markerclustererplus/images/m4.png",height:77,width:78},{textColor:"black",url:"https://raw.githubusercontent.com/googlemaps/v3-utility-library/37c2a570c318122df57b83140f5f54665b9359e5/packages/markerclustererplus/images/m5.png",height:89,width:90}]},{default:g(()=>[l.center?(o(),h(d,{key:0,position:l.center,icon:{url:"/pin.png",scaledSize:{width:40,height:40},labelOrigin:{x:16,y:-10}},clickable:a.clickable,draggable:a.draggable,onDragend:n.updateCenter},null,8,["position","icon","clickable","draggable","onDragend"])):p("",!0),(o(!0),u(A,null,F(a.markers,(c,b)=>(o(),h(d,{key:b,position:c.position,icon:{url:c.icon,scaledSize:{width:40,height:40},labelOrigin:{x:16,y:-10}},clickable:a.clickable,draggable:a.draggable,onClick:$=>n.openMarker(c.id)},null,8,["position","icon","clickable","draggable","onClick"]))),128))]),_:1},8,["styles"])]),_:1},8,["center","zoom","style","onClick"])])):p("",!0)}const N=M(S,[["render",G]]);export{N as W,O as u};
