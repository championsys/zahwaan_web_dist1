import{f as P,g as z,a9 as A,ah as J,u as T,s as _,X,o as q,r as d,a as l,c as m,b as e,x as y,l as o,t as a,n as p,F as G,j as H,d as c,w,y as B,an as I,k as g,v as K,e as Q,J as v}from"./index-e698aeb1.js";const W={class:"profile"},Y={class:"profile-conent"},Z={key:0,class:"profile-conent-tabs-user-data"},x={class:"profile-conent-tabs-user-data-img"},ee=["src","alt"],oe={class:"profile-conent-tabs-user-data-body"},te={class:"profile-conent-tabs-user-data-body-title"},se={class:"profile-conent-tabs-user-data-body-subtitle"},ae={class:"profile-conent-tabs-user-data-footer"},ne={class:"profile-conent-tabs-user-data-footer-item"},le={class:"profile-conent-tabs-user-data-footer-item-title"},ie={class:"profile-conent-tabs-user-data-footer-item-subtitle"},re={class:"profile-conent-tabs-user-data-footer-item"},ce={class:"profile-conent-tabs-user-data-footer-item-title points"},ue={class:"profile-conent-tabs-user-data-footer-item-subtitle"},de={class:"profile-conent-tabs-links"},me={class:"action-modal-body"},fe={class:"action-modal-body-title"},pe={class:"action-modal-body-subtitle"},_e={class:"action-modal-footer"},ve={__name:"Index",setup(be){const $="https://testapp.burjalmaha.com",h=P(),b=z(),i=A(),N=J(),{t:n}=T(),u=_(!1),U=_([{id:1,title:n("common.Personal data"),routeName:"profile-data",isButton:!1,icon:"login-user-icon"},{id:2,title:n("common.password"),routeName:"profile-password",isButton:!1,icon:"password-icon"},{id:3,title:n("common.Favorite"),routeName:"profile-favorite",isButton:!1,icon:"heart-2-icon"},{id:4,title:n("common.cart"),routeName:"cart",isButton:!1,icon:"cart-2-icon"},{id:5,title:n("common.orders"),routeName:"profile-orders",isButton:!1,icon:"order-icon"},{id:6,title:n("common.addresses"),routeName:"profile-addresses",isButton:!1,icon:"location-2-icon"},{id:7,title:n("common.currency"),routeName:"profile-currencies",isButton:!1,icon:"business-account-icon"},{id:8,title:n("common.language"),routeName:"profile-language",isButton:!1,icon:"lang-icon"},{id:9,title:n("common.sign out"),routeName:null,isButton:!0,icon:"sign-out-icon"}]),f=_(!1),k=_(!0),C=()=>{k.value=!1},V=()=>{u.value=!1,h.push({name:"profile",params:{lang:B.global.locale.value}})},R=()=>{N.logout().then(()=>{f.value=!1,h.push({name:"home",params:{lang:B.global.locale.value}})})};return X(()=>[b.name],()=>{b.name!="profile"&&(u.value=!0)},{immediate:!0,deep:!0}),q(()=>{b.name!="profile"&&(u.value=!0)}),(t,r)=>{const S=d("arrow-left-3-icon"),F=d("router-link"),D=d("sign-out-icon"),E=d("b-modal"),L=d("back-icon"),j=d("RouterView");return l(),m("main",W,[e("div",Y,[e("div",{class:y(["profile-conent-tabs",u.value?"hide-tabs":""])},[o(i).getUserInfo?(l(),m("div",Z,[e("div",x,[e("img",{src:k.value?o(i).getUserInfo.user_image?o($)+o(i).getUserInfo.user_image:o(I):o(I),onError:C,alt:"item.title"},null,40,ee)]),e("div",oe,[e("p",te,a(o(i).getUserInfo.first_name)+" "+a(o(i).getUserInfo.last_name),1),e("p",se,a(o(i).getUserInfo.email??"--------"),1)]),e("div",ae,[e("div",ne,[e("p",le,a(o(i).getUserInfo.total_orders??0),1),e("p",ie,a(t.$t("common.orders")),1)]),e("div",re,[e("p",ce,a(o(i).getUserInfo.points??0),1),e("p",ue,a(t.$t("common.points")),1)])])])):p("",!0),e("ul",de,[(l(!0),m(G,null,H(U.value,(s,M)=>(l(),m("li",{class:"nav-item",key:M},[s.isButton?p("",!0):(l(),g(F,{key:0,to:{name:s.routeName,params:{lang:t.$i18n.locale}},onClick:r[0]||(r[0]=O=>u.value=!0),class:"nav-link"},{default:w(()=>[e("span",null,[(l(),g(K(s.icon))),Q(" "+a(s.title),1)]),c(S)]),_:2},1032,["to"])),s.isButton?(l(),g(o(v),{key:1,classes:"w-100",title:s.title,appendIcon:s.icon,onClick:r[1]||(r[1]=O=>f.value=!0)},null,8,["title","appendIcon"])):p("",!0)]))),128))]),c(E,{class:"wameed-first-league-modal action-modal",modelValue:f.value,"onUpdate:modelValue":r[3]||(r[3]=s=>f.value=s),"hide-footer":"","hide-header":"",centered:""},{default:w(()=>[e("div",me,[c(D,{class:"action-modal-body-icon"}),e("h4",fe,a(t.$t("common.sign out")),1),e("p",pe,a(t.$t("common.sign-out-subtitle")),1)]),e("div",_e,[c(o(v),{title:t.$t("common.sign out"),classes:"action-modal-footer-mainbtn btn-error",onOnClick:R},null,8,["title"]),c(o(v),{onOnClick:r[2]||(r[2]=s=>f.value=!1),title:t.$t("common.cancel"),classes:"action-modal-footer-subbtn"},null,8,["title"])])]),_:1},8,["modelValue"])],2),t.$route.name!="profile"?(l(),m("div",{key:0,class:y(["profile-conent-pages",[u.value?"show-data":"",t.$route.name=="profile-orders"||t.$route.name=="cart"?"not-fixed":""]])},[t.$route.name!="profile-orders"||t.$route.name!="cart"?(l(),m("div",{key:0,class:"back-btn",onClick:V},[c(L)])):p("",!0),c(j)],2)):p("",!0)])])}}};export{ve as default};
