import{B as E,p as R,u as J,f as M,g as x,s as h,o as G,r as y,a as r,c as u,b as t,x as d,d as g,t as m,e as H,l as k,n as b,C as B,F as q,j,k as w,D as K,J as Q,E as U,y as W}from"./index-e698aeb1.js";import{_ as X}from"./WameedSideBarFilter-0eabdb66.js";const Y={class:"products-conent"},Z={class:"products-conent-tabs-title"},ee={class:"products-conent-list"},te={class:"products-conent-list-header"},se={class:"products-conent-list-title"},ne={class:"d-flex align-items-center"},oe={key:0,class:"products-conent-list-header-view"},ae={key:0},re={key:1},le={key:2,class:"search-no-data"},ce={class:"search-no-data-content"},ie={class:"search-no-data-content-title"},ue=t("p",{class:"search-no-data-content-subtitle"}," هذا النص هو مثال لنص يمكن أن يستبدل في نفس المساحة، لقد تم توليد هذا النص ",-1),ve={__name:"Index",setup(de){const v=E(),D=R();J();const A=M(),f=x(),l=h("vertical"),p=h([]),c=h(!1),$=h(!1),i=h(!0),n=h({filters:{},search_term:null,item_group:null,sort_by:"desc",order_by:"name",page:1,page_length:9}),P=e=>{l.value=e,i.value=!0,setTimeout(()=>{i.value=!1},1e3)},I=(e,s)=>{const{[e]:_,...a}=s;return a},S=()=>{f.query&&!$.value&&(f.query.item_group&&(n.value.item_group=f.query.item_group),n.value.filters={...n.value.filters,...I("item_group",f.query)}),v.loadProducts(n.value).then(()=>{p.value=v.getProducts.content,i.value=!1})},N=e=>typeof e=="object"&&e!==null&&!Array.isArray(e),O=e=>{c.value=!1,$.value=!0,i.value=!0;var s=Object.keys(e);for(let _=0;_<s.length;_++){const a=s[_];a=="group"?n.value.item_group=e[a]?e[a].id:null:N(e[a])?n.value.filters[a]=e[a].id:n.value.filters[a]=e[a]}n.value.page=1,A.push({name:"products",params:{lang:W.global.locale.value},query:Object.assign({},f.query,{item_group:n.value.item_group,...n.value.filters})}),setTimeout(()=>{S()},1e3)},V=e=>{n.value.page=n.value.page+1,v.loadProducts(n.value).then(()=>{p.value.push(...v.getProducts.content)})};return G(()=>{S()}),(e,s)=>{var F;const _=y("back-icon"),a=y("filter-icon"),L=y("grid-arrangement-icon"),T=y("vertical-arrangement-icon"),z=y("no-data-icon");return r(),u("main",{class:d(["products",c.value?"position-static":""])},[t("div",Y,[t("div",{class:d(["products-conent-tabs",c.value?"open":""])},[t("div",{class:"back-btn",onClick:s[0]||(s[0]=o=>c.value=!c.value)},[g(_)]),t("h1",Z,m(e.$t("common.Filter items")),1),g(X,{onChangeFilter:O})],2),t("div",ee,[t("div",te,[t("h1",se,[H(m(e.$t("common.all sections"))+" ",1),t("span",null,"( "+m(((F=k(v).getProducts)==null?void 0:F.total)??0)+" "+m(e.$t("common.product"))+")",1)]),t("div",ne,[t("div",{class:"products-conent-list-header-filter",onClick:s[1]||(s[1]=o=>c.value=!c.value)},[g(a)]),p.value.length>0?(r(),u("div",oe,[t("div",{class:d(["products-conent-list-header-view-item",l.value=="grid"?"active":""]),onClick:s[2]||(s[2]=o=>P("grid"))},[g(L,{class:"grid-arrangement-icon"}),t("p",null,m(e.$t("common.grid arrangement")),1)],2),t("div",{class:d(["products-conent-list-header-view-item",l.value=="vertical"?"active":""]),onClick:s[3]||(s[3]=o=>P("vertical"))},[g(T,{class:"vertical-arrangement-icon"}),t("p",null,m(e.$t("common.vertical arrangement")),1)],2)])):b("",!0)])]),p.value.length>0&&!i.value?(r(),u("div",ae,[t("div",{class:"products-conent-list-body",style:B(l.value=="grid"?"grid-template-columns: auto":"")},[(r(!0),u(q,null,j(p.value,(o,C)=>(r(),w(K,{key:C,id:o.id,name:o.name,price:o.price,oldPrice:o.old_price,discount:o.discount_percentage,image:o.images,rate:o.rating,itemCode:o.item_code,class:d(l.value=="grid"?"grid-arrangement":"")},null,8,["id","name","price","oldPrice","discount","image","rate","itemCode","class"]))),128))],4),n.value.page<k(v).getProducts.last_page?(r(),w(k(Q),{key:0,title:e.$t("common.Show more"),type:"button",prependIcon:"arrow-left-icon",class:d(k(D).getBtnLoading?"suggested-products-content-btn is-loading":"suggested-products-content-btn"),onOnClick:s[4]||(s[4]=o=>V())},null,8,["title","class"])):b("",!0)])):b("",!0),i.value?(r(),u("div",re,[t("div",{class:"products-conent-list-body",style:B(l.value=="grid"?"grid-template-columns: auto":"")},[(r(),u(q,null,j(8,(o,C)=>g(k(U),{"is-loading":!0,key:C,class:d(l.value=="grid"?"grid-arrangement":"")},null,8,["class"])),64))],4)])):b("",!0),p.value.length<1&&!i.value?(r(),u("div",le,[t("div",ce,[g(z,{class:"search-no-data-content-icon"}),t("h1",ie,m(e.$t("common.Sorry, there are no items")),1),ue])])):b("",!0)])])],2)}}};export{ve as default};
